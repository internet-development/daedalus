# Talos Daemon Configuration
# This file configures the Talos daemon for agent orchestration.

# Agent runner configuration
agent:
  # Backend to use: opencode, claude, or codex
  backend: opencode
  # Backend-specific configuration (optional)
  # opencode:
  #   model: anthropic/claude-sonnet-4-20250514
  # claude:
  #   model: anthropic/claude-sonnet-4-20250514
  #   dangerously_skip_permissions: true
  # codex:
  #   model: gpt-4

# Scheduler configuration
scheduler:
  # Maximum concurrent agents (default: 1)
  maxConcurrent: 1

# Watcher configuration
watcher:
  # Directory containing beans (default: .beans)
  beansDir: .beans

# Output configuration
output:
  # Directory for persisted agent output logs
  dir: .talos/output
  # Automatically mark beans as completed when agent succeeds and no unchecked items
  autoComplete: false

# Planning agent configuration
planning_agent:
  # Provider options:
  # - claude: Direct Anthropic API (requires ANTHROPIC_API_KEY env var)
  # - anthropic: Same as claude
  # - openai: OpenAI API (requires OPENAI_API_KEY env var)
  # - claude_code: Claude CLI subscription (no API key needed, uses `claude` CLI)
  provider: claude
  # Model for API-based providers (not used with claude_code)
  model: claude-sonnet-4-20250514
  # Temperature for response generation
  temperature: 0.7

# Planning configuration
planning:
  # Directory containing skill files (relative to project root)
  skills_directory: ./skills
  
  # Planning modes
  modes:
    # Brainstorm mode for creative exploration
    brainstorm:
      enabled: true
      skill: beans-brainstorming
      # Bean types that require brainstorming before work
      enforce_for_types:
        - feature
        - epic
        - milestone
    
    # Breakdown mode for task decomposition
    breakdown:
      enabled: true
      skill: beans-breakdown
      # Ideal task duration range (in minutes)
      min_task_duration_minutes: 2
      max_task_duration_minutes: 5
      # Suggest test beans alongside implementation tasks
      suggest_test_beans: true
